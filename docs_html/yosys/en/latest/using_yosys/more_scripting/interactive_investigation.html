<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Symbolic model checking" href="model_checking.html" /><link rel="prev" title="Selections" href="selections.html" />

    <link rel="shortcut icon" href="../../_static/yshq_favicon.png"/><!-- Generated with Sphinx 8.2.3 and Furo 2025.04.22.dev1 -->
        <title>Interactive design investigation - YosysHQ Yosys 0.55-dev documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-ys.css?v=5cc2bdad" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=8dab3a3b" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=63c85a92" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style><script async type="text/javascript" src="/_/static/javascript/readthedocs-addons.js"></script><meta name="readthedocs-project-slug" content="yosys" /><meta name="readthedocs-version-slug" content="latest" /><meta name="readthedocs-resolver-filename" content="/using_yosys/more_scripting/interactive_investigation.html" /><meta name="readthedocs-http-status" content="200" /></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">YosysHQ Yosys 0.55-dev documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand"
   title="External link to https://yosyshq.readthedocs.io"
   href="https://yosyshq.readthedocs.io"><div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../_static/yshq_logo.png" alt="Main Brand Logo"/>
  </div>
  
  
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Yosys (index)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">What is Yosys</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../getting_started/index.html">Getting started with Yosys</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Getting started with Yosys</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/installation.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/example_synth.html">Synthesis starter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/scripting_intro.html">Scripting in Yosys</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html">Using Yosys (advanced)</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Using Yosys (advanced)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../synthesis/index.html">Synthesis in detail</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Synthesis in detail</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../synthesis/synth.html">Synth commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../synthesis/proc.html">Converting process blocks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../synthesis/fsm.html">FSM handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../synthesis/memory.html">Memory handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../synthesis/opt.html">Optimization passes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../synthesis/techmap_synth.html">Technology mapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="../synthesis/extract.html">The extract pass</a></li>
<li class="toctree-l3"><a class="reference internal" href="../synthesis/abc.html">The ABC toolbox</a></li>
<li class="toctree-l3"><a class="reference internal" href="../synthesis/cell_libs.html">Mapping to cell libraries</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="index.html">More scripting</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of More scripting</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="load_design.html">Loading a design</a></li>
<li class="toctree-l3"><a class="reference internal" href="selections.html">Selections</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">Interactive design investigation</a></li>
<li class="toctree-l3"><a class="reference internal" href="model_checking.html">Symbolic model checking</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_flow_tracking.html">Dataflow tracking</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../yosys_internals/index.html">Yosys internals</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Yosys internals</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../yosys_internals/flow/index.html">Internal flow</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Internal flow</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../yosys_internals/flow/overview.html">Flow overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../yosys_internals/flow/control_and_data.html">Control and data flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../yosys_internals/flow/verilog_frontend.html">The Verilog and AST frontends</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../yosys_internals/formats/index.html">Internal formats</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Internal formats</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../yosys_internals/formats/rtlil_rep.html">The RTL Intermediate Language (RTLIL)</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../yosys_internals/extending_yosys/index.html">Working with the Yosys codebase</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Working with the Yosys codebase</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../yosys_internals/extending_yosys/extensions.html">Writing extensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../yosys_internals/extending_yosys/build_verific.html">Compiling with Verific library</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../yosys_internals/extending_yosys/functional_ir.html">Writing a new backend using FunctionalIR</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../yosys_internals/extending_yosys/contributing.html">Contributing to Yosys</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../yosys_internals/extending_yosys/test_suites.html">Testing Yosys</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../yosys_internals/techmap.html">Techmap by example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../yosys_internals/verilog.html">Notes on Verilog support in Yosys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../yosys_internals/hashing.html">Hashing and associative data structures in Yosys</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/primer.html">A primer on digital circuit synthesis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/rtlil_text.html">RTLIL text representation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/auxlibs.html">Auxiliary libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/auxprogs.html">Auxiliary programs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bib.html">Literature references</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../cell_index.html">Internal cell library</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Internal cell library</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../cell/index_word.html">Word-level cells</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of Word-level cells</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../cell/word_unary.html">Unary operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cell/word_binary.html">Binary operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cell/word_mux.html">Multiplexers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cell/word_reg.html">Registers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cell/word_mem.html">Memories</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cell/word_fsm.html">Finite state machines</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cell/word_arith.html">Coarse arithmetics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cell/word_logic.html">Arbitrary logic functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cell/word_spec.html">Specify rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cell/word_formal.html">Formal verification cells</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cell/word_debug.html">Debugging cells</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cell/word_wire.html">Wire cells</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../cell/index_gate.html">Gate-level cells</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Gate-level cells</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../cell/gate_comb_simple.html">Combinatorial cells (simple)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cell/gate_comb_combined.html">Combinatorial cells (combined)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cell/gate_reg_ff.html">Flip-flop cells</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cell/gate_reg_latch.html">Latch cells</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cell/gate_other.html">Other gate-level cells</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../cell/properties.html">Cell properties</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../cmd_ref.html">Command line reference</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Command line reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../appendix/env_vars.html">Yosys environment variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/abc.html">abc - use ABC for technology mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/abc9.html">abc9 - use ABC9 for technology mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/abc9_exe.html">abc9_exe - use ABC9 for technology mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/abc9_ops.html">abc9_ops - helper functions for ABC9</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/abc_new.html">abc_new - (experimental) use ABC for SC technology mapping (new)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/abstract.html">abstract - replace signals with abstract values during formal verification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/add.html">add - add objects to the design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/aigmap.html">aigmap - map logic to and-inverter-graph circuit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/alumacc.html">alumacc - extract ALU and MACC cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/anlogic_eqn.html">anlogic_eqn - Anlogic: Calculate equations for luts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/anlogic_fixcarry.html">anlogic_fixcarry - Anlogic: fix carry chain</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/assertpmux.html">assertpmux - adds asserts for parallel muxes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/async2sync.html">async2sync - convert async FF inputs to sync circuits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/attrmap.html">attrmap - renaming attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/attrmvcp.html">attrmvcp - move or copy attributes from wires to driving cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/autoname.html">autoname - automatically assign names to objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/blackbox.html">blackbox - convert modules into blackbox modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/bmuxmap.html">bmuxmap - transform $bmux cells to trees of $mux cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/booth.html">booth - map $mul cells to Booth multipliers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/box_derive.html">box_derive - derive box modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/bufnorm.html">bufnorm - (experimental) convert design into buffered-normalized form</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/bugpoint.html">bugpoint - minimize testcases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/bwmuxmap.html">bwmuxmap - replace $bwmux cells with equivalent logic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/cd.html">cd - a shortcut for ‘select -module &lt;name&gt;’</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/cellmatch.html">cellmatch - match cells to their targets in cell library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/check.html">check - check for obvious problems in the design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/chformal.html">chformal - change formal constraints of the design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/chparam.html">chparam - re-evaluate modules with new parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/chtype.html">chtype - change type of cells in the design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/clean.html">clean - remove unused cells and wires</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/clean_zerowidth.html">clean_zerowidth - clean zero-width connections from the design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/clk2fflogic.html">clk2fflogic - convert clocked FFs to generic $ff cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/clkbufmap.html">clkbufmap - insert clock buffers on clock networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/clockgate.html">clockgate - extract clock gating out of flip flops</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/connect.html">connect - create or remove connections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/connect_rpc.html">connect_rpc - connect to RPC frontend</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/connwrappers.html">connwrappers - match width of input-output port pairs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/constmap.html">constmap - technology mapping of coarse constant value</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/coolrunner2_fixup.html">coolrunner2_fixup - insert necessary buffer cells for CoolRunner-II architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/coolrunner2_sop.html">coolrunner2_sop - break $sop cells into ANDTERM/ORTERM cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/copy.html">copy - copy modules in the design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/cover.html">cover - print code coverage counters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/cutpoint.html">cutpoint - adds formal cut points to the design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/debug.html">debug - run command with debug log messages enabled</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/delete.html">delete - delete objects in the design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/deminout.html">deminout - demote inout ports to input or output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/demuxmap.html">demuxmap - transform $demux cells to $eq + $mux cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/design.html">design - save, restore and reset current design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/dffinit.html">dffinit - set INIT param on FF cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/dfflegalize.html">dfflegalize - convert FFs to types supported by the target</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/dfflibmap.html">dfflibmap - technology mapping of flip-flops</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/dffunmap.html">dffunmap - unmap clock enable and synchronous reset from FFs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/dft_tag.html">dft_tag - create tagging logic for data flow tracking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/dump.html">dump - print parts of the design in RTLIL format</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/echo.html">echo - turning echoing back of commands on and off</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/edgetypes.html">edgetypes - list all types of edges in selection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/efinix_fixcarry.html">efinix_fixcarry - Efinix: fix carry chain</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/equiv_add.html">equiv_add - add a $equiv cell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/equiv_induct.html">equiv_induct - proving $equiv cells using temporal induction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/equiv_make.html">equiv_make - prepare a circuit for equivalence checking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/equiv_mark.html">equiv_mark - mark equivalence checking regions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/equiv_miter.html">equiv_miter - extract miter from equiv circuit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/equiv_opt.html">equiv_opt - prove equivalence for optimized circuit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/equiv_purge.html">equiv_purge - purge equivalence checking module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/equiv_remove.html">equiv_remove - remove $equiv cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/equiv_simple.html">equiv_simple - try proving simple $equiv instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/equiv_status.html">equiv_status - print status of equivalent checking module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/equiv_struct.html">equiv_struct - structural equivalence checking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/eval.html">eval - evaluate the circuit given an input</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/example_dt.html">example_dt - drivertools example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/exec.html">exec - execute commands in the operating system shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/expose.html">expose - convert internal signals to module ports</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/extract.html">extract - find subcircuits and replace them with cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/extract_counter.html">extract_counter - Extract GreenPak4 counter cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/extract_fa.html">extract_fa - find and extract full/half adders</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/extract_reduce.html">extract_reduce - converts gate chains into $reduce_* cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/extractinv.html">extractinv - extract explicit inverter cells for invertible cell pins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/flatten.html">flatten - flatten design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/flowmap.html">flowmap - pack LUTs with FlowMap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/fmcombine.html">fmcombine - combine two instances of a cell into one</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/fminit.html">fminit - set init values/sequences for formal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/formalff.html">formalff - prepare FFs for formal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/freduce.html">freduce - perform functional reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/fsm.html">fsm - extract and optimize finite state machines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/fsm_detect.html">fsm_detect - finding FSMs in design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/fsm_expand.html">fsm_expand - expand FSM cells by merging logic into it</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/fsm_export.html">fsm_export - exporting FSMs to KISS2 files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/fsm_extract.html">fsm_extract - extracting FSMs in design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/fsm_info.html">fsm_info - print information on finite state machines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/fsm_map.html">fsm_map - mapping FSMs to basic logic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/fsm_opt.html">fsm_opt - optimize finite state machines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/fsm_recode.html">fsm_recode - recoding finite state machines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/fst2tb.html">fst2tb - generate testbench out of fst file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/future.html">future - resolve future sampled value functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/gatemate_foldinv.html">gatemate_foldinv - fold inverters into Gatemate LUT trees</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/glift.html">glift - create GLIFT models and optimization problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/greenpak4_dffinv.html">greenpak4_dffinv - merge greenpak4 inverters and DFF/latches</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/help.html">help - display help messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/hierarchy.html">hierarchy - check, expand and clean up design hierarchy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/hilomap.html">hilomap - technology mapping of constant hi- and/or lo-drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/history.html">history - show last interactive commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/ice40_braminit.html">ice40_braminit - iCE40: perform SB_RAM40_4K initialization from file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/ice40_dsp.html">ice40_dsp - iCE40: map multipliers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/ice40_opt.html">ice40_opt - iCE40: perform simple optimizations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/ice40_wrapcarry.html">ice40_wrapcarry - iCE40: wrap carries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/insbuf.html">insbuf - insert buffer cells for connected wires</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/internal_stats.html">internal_stats - print internal statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/iopadmap.html">iopadmap - technology mapping of i/o pads (or buffers)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/jny.html">jny - write design and metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/json.html">json - write design in JSON format</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/keep_hierarchy.html">keep_hierarchy - selectively add the keep_hierarchy attribute</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/lattice_gsr.html">lattice_gsr - Lattice: handle GSR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/libcache.html">libcache - control caching of technology library data parsed from liberty files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/license.html">license - print license terms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/log.html">log - print text and log files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/logger.html">logger - set logger properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/ls.html">ls - list modules or objects in modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/ltp.html">ltp - print longest topological path</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/lut2mux.html">lut2mux - convert $lut to $_MUX_</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/maccmap.html">maccmap - mapping macc cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/memory.html">memory - translate memories to basic cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/memory_bmux2rom.html">memory_bmux2rom - convert muxes to ROMs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/memory_bram.html">memory_bram - map memories to block rams</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/memory_collect.html">memory_collect - creating multi-port memory cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/memory_dff.html">memory_dff - merge input/output DFFs into memory read ports</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/memory_libmap.html">memory_libmap - map memories to cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/memory_map.html">memory_map - translate multiport memories to basic cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/memory_memx.html">memory_memx - emulate vlog sim behavior for mem ports</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/memory_narrow.html">memory_narrow - split up wide memory ports</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/memory_nordff.html">memory_nordff - extract read port FFs from memories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/memory_share.html">memory_share - consolidate memory ports</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/memory_unpack.html">memory_unpack - unpack multi-port memory cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/microchip_dffopt.html">microchip_dffopt - MICROCHIP: optimize FF control signal usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/microchip_dsp.html">microchip_dsp - MICROCHIP: pack resources into DSPs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/miter.html">miter - automatically create a miter circuit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/mutate.html">mutate - generate or apply design mutations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/muxcover.html">muxcover - cover trees of MUX cells with wider MUXes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/muxpack.html">muxpack - $mux/$pmux cascades to $pmux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/nlutmap.html">nlutmap - map to LUTs of different sizes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/nx_carry.html">nx_carry - NanoXplore: create carry cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/onehot.html">onehot - optimize $eq cells for onehot signals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/opt.html">opt - perform simple optimizations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/opt_clean.html">opt_clean - remove unused cells and wires</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/opt_demorgan.html">opt_demorgan - Optimize reductions with DeMorgan equivalents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/opt_dff.html">opt_dff - perform DFF optimizations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/opt_expr.html">opt_expr - perform const folding and simple expression rewriting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/opt_ffinv.html">opt_ffinv - push inverters through FFs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/opt_lut.html">opt_lut - optimize LUT cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/opt_lut_ins.html">opt_lut_ins - discard unused LUT inputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/opt_mem.html">opt_mem - optimize memories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/opt_mem_feedback.html">opt_mem_feedback - convert memory read-to-write port feedback paths to write enables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/opt_mem_priority.html">opt_mem_priority - remove priority relations between write ports that can never collide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/opt_mem_widen.html">opt_mem_widen - optimize memories where all ports are wide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/opt_merge.html">opt_merge - consolidate identical cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/opt_muxtree.html">opt_muxtree - eliminate dead trees in multiplexer trees</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/opt_reduce.html">opt_reduce - simplify large MUXes and AND/OR gates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/opt_share.html">opt_share - merge mutually exclusive cells of the same type that share an input signal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/paramap.html">paramap - renaming cell parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/peepopt.html">peepopt - collection of peephole optimizers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/plugin.html">plugin - load and list loaded plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/pmux2shiftx.html">pmux2shiftx - transform $pmux cells to $shiftx cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/pmuxtree.html">pmuxtree - transform $pmux cells to trees of $mux cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/portarcs.html">portarcs - derive port arcs for propagation delay</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/portlist.html">portlist - list (top-level) ports</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/prep.html">prep - generic synthesis script</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/printattrs.html">printattrs - print attributes of selected objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/proc.html">proc - translate processes to netlists</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/proc_arst.html">proc_arst - detect asynchronous resets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/proc_clean.html">proc_clean - remove empty parts of processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/proc_dff.html">proc_dff - extract flip-flops from processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/proc_dlatch.html">proc_dlatch - extract latches from processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/proc_init.html">proc_init - convert initial block to init attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/proc_memwr.html">proc_memwr - extract memory writes from processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/proc_mux.html">proc_mux - convert decision trees to multiplexers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/proc_prune.html">proc_prune - remove redundant assignments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/proc_rmdead.html">proc_rmdead - eliminate dead trees in decision trees</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/proc_rom.html">proc_rom - convert switches to ROMs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/qbfsat.html">qbfsat - solve a 2QBF-SAT problem in the circuit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/ql_bram_merge.html">ql_bram_merge - Infers QuickLogic k6n10f BRAM pairs that can operate independently</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/ql_bram_types.html">ql_bram_types - Change TDP36K type to subtypes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/ql_dsp_io_regs.html">ql_dsp_io_regs - change types of QL_DSP2 depending on configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/ql_dsp_macc.html">ql_dsp_macc - infer QuickLogic multiplier-accumulator DSP cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/ql_dsp_simd.html">ql_dsp_simd - merge QuickLogic K6N10f DSP pairs to operate in SIMD mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/ql_ioff.html">ql_ioff - Infer I/O FFs for qlf_k6n10f architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/read.html">read - load HDL designs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/read_aiger.html">read_aiger - read AIGER file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/read_blif.html">read_blif - read BLIF file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/read_json.html">read_json - read JSON file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/read_liberty.html">read_liberty - read cells from liberty file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/read_rtlil.html">read_rtlil - read modules from RTLIL file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/read_verilog.html">read_verilog - read modules from Verilog file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/read_verilog_file_list.html">read_verilog_file_list - parse a Verilog file list</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/read_xaiger2.html">read_xaiger2 - (experimental) read XAIGER file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/recover_names.html">recover_names - Execute a lossy mapping command and recover original netnames</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/rename.html">rename - rename object in the design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/rmports.html">rmports - remove module ports with no connections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/sat.html">sat - solve a SAT problem in the circuit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/scatter.html">scatter - add additional intermediate nets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/scc.html">scc - detect strongly connected components (logic loops)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/scratchpad.html">scratchpad - get/set values in the scratchpad</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/script.html">script - execute commands from file or wire</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/select.html">select - modify and view the list of selected objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/setattr.html">setattr - set/unset attributes on objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/setenv.html">setenv - set an environment variable</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/setparam.html">setparam - set/unset parameters on objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/setundef.html">setundef - replace undef values with defined constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/share.html">share - perform sat-based resource sharing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/shell.html">shell - enter interactive command mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/show.html">show - generate schematics using graphviz</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/shregmap.html">shregmap - map shift registers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/sim.html">sim - simulate the circuit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/simplemap.html">simplemap - mapping simple coarse-grain cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/splice.html">splice - create explicit splicing cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/splitcells.html">splitcells - split up multi-bit cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/splitnets.html">splitnets - split up multi-bit nets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/sta.html">sta - perform static timing analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/stat.html">stat - print some statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/submod.html">submod - moving part of a module to a new submodule</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/supercover.html">supercover - add hi/lo cover cells for each wire bit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/synth.html">synth - generic synthesis script</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/synth_achronix.html">synth_achronix - synthesis for Achronix Speedster22i FPGAs.</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/synth_anlogic.html">synth_anlogic - synthesis for Anlogic FPGAs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/synth_coolrunner2.html">synth_coolrunner2 - synthesis for Xilinx Coolrunner-II CPLDs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/synth_easic.html">synth_easic - synthesis for eASIC platform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/synth_ecp5.html">synth_ecp5 - synthesis for ECP5 FPGAs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/synth_efinix.html">synth_efinix - synthesis for Efinix FPGAs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/synth_fabulous.html">synth_fabulous - FABulous synthesis script</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/synth_gatemate.html">synth_gatemate - synthesis for Cologne Chip GateMate FPGAs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/synth_gowin.html">synth_gowin - synthesis for Gowin FPGAs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/synth_greenpak4.html">synth_greenpak4 - synthesis for GreenPAK4 FPGAs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/synth_ice40.html">synth_ice40 - synthesis for iCE40 FPGAs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/synth_intel.html">synth_intel - synthesis for Intel (Altera) FPGAs.</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/synth_intel_alm.html">synth_intel_alm - synthesis for ALM-based Intel (Altera) FPGAs.</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/synth_lattice.html">synth_lattice - synthesis for Lattice FPGAs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/synth_microchip.html">synth_microchip - synthesis for Microchip FPGAs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/synth_nanoxplore.html">synth_nanoxplore - synthesis for NanoXplore FPGAs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/synth_nexus.html">synth_nexus - synthesis for Lattice Nexus FPGAs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/synth_quicklogic.html">synth_quicklogic - Synthesis for QuickLogic FPGAs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/synth_sf2.html">synth_sf2 - synthesis for SmartFusion2 and IGLOO2 FPGAs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/synth_xilinx.html">synth_xilinx - synthesis for Xilinx FPGAs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/synthprop.html">synthprop - synthesize SVA properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/tcl.html">tcl - execute a TCL script file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/techmap.html">techmap - generic technology mapper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/tee.html">tee - redirect command output to file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/test_abcloop.html">test_abcloop - automatically test handling of loops in abc command</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/test_autotb.html">test_autotb - generate simple test benches</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/test_cell.html">test_cell - automatically test the implementation of a cell type</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/test_generic.html">test_generic - test the generic compute graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/test_pmgen.html">test_pmgen - test pass for pmgen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/test_select.html">test_select - call internal selection methods on design for testing purposes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/timeest.html">timeest - estimate timing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/torder.html">torder - print cells in topological order</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/trace.html">trace - redirect command output to file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/tribuf.html">tribuf - infer tri-state buffers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/uniquify.html">uniquify - create unique copies of modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/verific.html">verific - load Verilog and VHDL designs using Verific</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/verilog_defaults.html">verilog_defaults - set default options for read_verilog</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/verilog_defines.html">verilog_defines - define and undefine verilog defines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/viz.html">viz - visualize data flow graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/wbflip.html">wbflip - flip the whitebox attribute</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/wrapcell.html">wrapcell - wrap individual cells into new modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/wreduce.html">wreduce - reduce the word size of operations if possible</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/write_aiger.html">write_aiger - write design to AIGER file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/write_aiger2.html">write_aiger2 - (experimental) write design to AIGER file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/write_blif.html">write_blif - write design to BLIF file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/write_btor.html">write_btor - write design to BTOR file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/write_cxxrtl.html">write_cxxrtl - convert design to C++ RTL simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/write_edif.html">write_edif - write design to EDIF netlist file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/write_file.html">write_file - write a text to a file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/write_firrtl.html">write_firrtl - write design to a FIRRTL file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/write_functional_cxx.html">write_functional_cxx - convert design to C++ using the functional backend</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/write_functional_rosette.html">write_functional_rosette - Generate Rosette compatible Racket from Functional IR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/write_functional_smt2.html">write_functional_smt2 - Generate SMT-LIB from Functional IR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/write_intersynth.html">write_intersynth - write design to InterSynth netlist file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/write_jny.html">write_jny - generate design metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/write_json.html">write_json - write design to a JSON file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/write_rtlil.html">write_rtlil - write design to RTLIL file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/write_simplec.html">write_simplec - convert design to simple C code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/write_smt2.html">write_smt2 - write design to SMT-LIBv2 file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/write_smv.html">write_smv - write design to SMV file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/write_spice.html">write_spice - write design to SPICE netlist file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/write_table.html">write_table - write design as connectivity table</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/write_verilog.html">write_verilog - write design to Verilog file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/write_xaiger.html">write_xaiger - write design to XAIGER file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/write_xaiger2.html">write_xaiger2 - (experimental) write module to XAIGER file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/xilinx_dffopt.html">xilinx_dffopt - Xilinx: optimize FF control signal usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/xilinx_dsp.html">xilinx_dsp - Xilinx: pack resources into DSPs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/xilinx_srl.html">xilinx_srl - Xilinx shift register extraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/xprop.html">xprop - formal x propagation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmd/zinit.html">zinit - add inverters so all FF are zero-initialized</a></li>
</ul>
</li>
</ul>

</div>

<div
  id="furo-sidebar-ad-placement"
  class="flat"
  data-ea-publisher="readthedocs"
  data-ea-type="readthedocs-sidebar"
  data-ea-manual="true"
></div>
</div>



      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/YosysHQ/yosys/blob/main/docs/source/using_yosys/more_scripting/interactive_investigation.rst?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/YosysHQ/yosys/edit/main/docs/source/using_yosys/more_scripting/interactive_investigation.rst" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="interactive-design-investigation">
<h1>Interactive design investigation<a class="headerlink" href="#interactive-design-investigation" title="Link to this heading">¶</a></h1>
<section id="a-look-at-the-show-command">
<span id="interactive-show"></span><h2>A look at the show command<a class="headerlink" href="#a-look-at-the-show-command" title="Link to this heading">¶</a></h2>
<p>This section explores the <a class="reference internal" href="../../cmd/show.html#cmd-show" title="generate schematics using graphviz"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">show</span></code></a> command and explains the symbols used in the
circuit diagrams generated by it. The code used is included in the Yosys code
base under <a class="reference external" href="https://github.com/YosysHQ/yosys/tree/main/docs/source/code_examples/show"><code class="file docutils literal notranslate"><span class="pre">docs/source/code_examples/show</span></code></a>.</p>
<section id="a-simple-circuit">
<h3>A simple circuit<a class="headerlink" href="#a-simple-circuit" title="Link to this heading">¶</a></h3>
<p><a class="reference internal" href="#example-v"><span class="std std-ref">example.v</span></a> below provides the Verilog code for a simple circuit which we
will use to demonstrate the usage of <a class="reference internal" href="../../cmd/show.html#cmd-show" title="generate schematics using graphviz"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">show</span></code></a> in a simple setting.</p>
<div class="literal-block-wrapper docutils container" id="example-v">
<div class="code-block-caption"><span class="caption-number">Listing 72 </span><span class="caption-text"><code class="file docutils literal notranslate"><span class="pre">example.v</span></code></span><a class="headerlink" href="#example-v" title="Link to this code">¶</a></div>
<div class="highlight-Verilog notranslate"><div class="highlight"><pre><span></span><span class="k">module</span><span class="w"> </span><span class="n">example</span><span class="p">(</span><span class="k">input</span><span class="w"> </span><span class="n">clk</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">,</span>
<span class="w">               </span><span class="k">output</span><span class="w"> </span><span class="kt">reg</span><span class="w"> </span><span class="p">[</span><span class="mh">1</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">y</span><span class="p">);</span>
<span class="w">    </span><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clk</span><span class="p">)</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="w">            </span><span class="n">y</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mh">2</span><span class="mi">&#39;d0</span><span class="p">;</span>
<span class="k">endmodule</span>
</pre></div>
</div>
</div>
<p>The Yosys synthesis script we will be running is included as
<a class="reference internal" href="#example-ys"><span class="std std-numref">Listing 73</span></a>. Note that <a class="reference internal" href="../../cmd/show.html#cmd-show" title="generate schematics using graphviz"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">show</span></code></a> is called with the <code class="docutils literal notranslate"><span class="pre">-pause</span></code> option,
that halts execution of the Yosys script until the user presses the Enter key.
Using <code class="code highlight yoscrypt docutils literal highlight-yoscrypt"><span class="k">show</span><span class="w"> </span><span class="na">-pause</span></code> also allows the user to enter an interactive shell
to further investigate the circuit before continuing synthesis.</p>
<div class="literal-block-wrapper docutils container" id="example-ys">
<div class="code-block-caption"><span class="caption-number">Listing 73 </span><span class="caption-text"><code class="file docutils literal notranslate"><span class="pre">example_show.ys</span></code></span><a class="headerlink" href="#example-ys" title="Link to this code">¶</a></div>
<div class="highlight-yoscrypt notranslate"><div class="highlight"><pre><span></span><span class="k">read_verilog</span><span class="w"> </span><span class="n">example.v</span>
<span class="k">show</span><span class="w"> </span><span class="na">-pause</span><span class="w"> </span><span class="c1"># first</span>
<span class="n">proc</span>
<span class="k">show</span><span class="w"> </span><span class="na">-pause</span><span class="w"> </span><span class="c1"># second</span>
<span class="n">opt</span>
<span class="k">show</span><span class="w"> </span><span class="na">-pause</span><span class="w"> </span><span class="c1"># third</span>
</pre></div>
</div>
</div>
<p>This script, when executed, will show the design after each of the three
synthesis commands. We will now look at each of these diagrams and explain what
is shown.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The images uses in this document are generated from the <code class="file docutils literal notranslate"><span class="pre">example.ys</span></code>
file, rather than <code class="file docutils literal notranslate"><span class="pre">example_show.ys</span></code>.  <code class="file docutils literal notranslate"><span class="pre">example.ys</span></code> outputs the
schematics as <code class="file docutils literal notranslate"><span class="pre">.dot</span></code> files rather than displaying them directly.  You
can view these images yourself by running <code class="file docutils literal notranslate"><span class="pre">yosys</span> <span class="pre">example.ys</span></code> and then
<code class="docutils literal notranslate"><span class="pre">xdot</span> <span class="pre">example_first.dot</span></code> etc.</p>
</div>
<figure class="align-default" id="id13">
<img alt="../../_images/example_first.svg" class="width-helper invert-helper" src="../../_images/example_first.svg" />
<figcaption>
<p><span class="caption-number">Fig. 44 </span><span class="caption-text">Output of the first <a class="reference internal" href="../../cmd/show.html#cmd-show" title="generate schematics using graphviz"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">show</span></code></a> command in <a class="reference internal" href="#example-ys"><span class="std std-numref">Listing 73</span></a></span><a class="headerlink" href="#id13" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>The first output shows the design directly after being read by the Verilog
front-end. Input and output ports are displayed as octagonal shapes. Cells are
displayed as rectangles with inputs on the left and outputs on the right side.
The cell labels are two lines long: The first line contains a unique identifier
for the cell and the second line contains the cell type. Internal cell types are
prefixed with a dollar sign. For more details on the internal cell library, see
<a class="reference internal" href="../../cell_index.html"><span class="doc">Internal cell library</span></a>.</p>
<p>Constants are shown as ellipses with the constant value as label. The syntax
<code class="docutils literal notranslate"><span class="pre">&lt;bit_width&gt;'&lt;bits&gt;</span></code> is used for constants that are not 32-bit wide and/or
contain bits that are not 0 or 1 (i.e. <code class="docutils literal notranslate"><span class="pre">x</span></code> or <code class="docutils literal notranslate"><span class="pre">z</span></code>). Ordinary 32-bit
constants are written using decimal numbers.</p>
<p>Single-bit signals are shown as thin arrows pointing from the driver to the
load. Signals that are multiple bits wide are shown as thick arrows.</p>
<p>Finally <em>processes</em> are shown in boxes with round corners. Processes are Yosys’
internal representation of the decision-trees and synchronization events
modelled in a Verilog <code class="docutils literal notranslate"><span class="pre">always</span></code>-block. The label reads <code class="docutils literal notranslate"><span class="pre">PROC</span></code> followed by a
unique identifier in the first line and contains the source code location of the
original <code class="docutils literal notranslate"><span class="pre">always</span></code>-block in the second line. Note how the multiplexer from the
<code class="docutils literal notranslate"><span class="pre">?:</span></code>-expression is represented as a <a class="reference internal" href="../../cell/word_mux.html#mux.$mux" title="mux::$mux"><code class="xref cell cell-ref docutils literal notranslate"><span class="pre">$mux</span></code></a> cell but the multiplexer from the
<code class="docutils literal notranslate"><span class="pre">if</span></code>-statement is yet still hidden within the process.</p>
<p>The <a class="reference internal" href="../../cmd/proc.html#cmd-proc" title="translate processes to netlists"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">proc</span></code></a> command transforms the process from the first diagram into a
multiplexer and a d-type flip-flop, which brings us to the second diagram:</p>
<figure class="align-default" id="id14">
<img alt="../../_images/example_second.svg" class="width-helper invert-helper" src="../../_images/example_second.svg" />
<figcaption>
<p><span class="caption-number">Fig. 45 </span><span class="caption-text">Output of the second <a class="reference internal" href="../../cmd/show.html#cmd-show" title="generate schematics using graphviz"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">show</span></code></a> command in <a class="reference internal" href="#example-ys"><span class="std std-numref">Listing 73</span></a></span><a class="headerlink" href="#id14" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>The Rhombus shape to the right is a dangling wire. (Wire nodes are only shown if
they are dangling or have “public” names, for example names assigned from the
Verilog input.) Also note that the design now contains two instances of a
<code class="docutils literal notranslate"><span class="pre">BUF</span></code>-node. These are artefacts left behind by the <a class="reference internal" href="../../cmd/proc.html#cmd-proc" title="translate processes to netlists"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">proc</span></code></a> command. It is quite
usual to see such artefacts after calling commands that perform changes in the
design, as most commands only care about doing the transformation in the least
complicated way, not about cleaning up after them. The next call to <a class="reference internal" href="../../cmd/clean.html#cmd-clean" title="remove unused cells and wires"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">clean</span></code></a> (or
<a class="reference internal" href="../../cmd/opt.html#cmd-opt" title="perform simple optimizations"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">opt</span></code></a>, which includes <a class="reference internal" href="../../cmd/clean.html#cmd-clean" title="remove unused cells and wires"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">clean</span></code></a> as one of its operations) will clean up these
artefacts. This operation is so common in Yosys scripts that it can simply be
abbreviated with the <code class="docutils literal notranslate"><span class="pre">;;</span></code> token, which doubles as separator for commands.
Unless one wants to specifically analyze this artefacts left behind some
operations, it is therefore recommended to always call <a class="reference internal" href="../../cmd/clean.html#cmd-clean" title="remove unused cells and wires"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">clean</span></code></a> before calling
<a class="reference internal" href="../../cmd/show.html#cmd-show" title="generate schematics using graphviz"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">show</span></code></a>.</p>
<p>In this script we directly call <a class="reference internal" href="../../cmd/opt.html#cmd-opt" title="perform simple optimizations"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">opt</span></code></a> as the next step, which finally leads us
to the third diagram:</p>
<figure class="align-default" id="example-out">
<img alt="../../_images/example_third.svg" class="width-helper invert-helper" src="../../_images/example_third.svg" />
<figcaption>
<p><span class="caption-number">Fig. 46 </span><span class="caption-text">Output of the third <a class="reference internal" href="../../cmd/show.html#cmd-show" title="generate schematics using graphviz"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">show</span></code></a> command in <a class="reference internal" href="#example-ys"><span class="std std-ref">example_show.ys</span></a></span><a class="headerlink" href="#example-out" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Here we see that the <a class="reference internal" href="../../cmd/opt.html#cmd-opt" title="perform simple optimizations"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">opt</span></code></a> command not only has removed the artifacts left
behind by <a class="reference internal" href="../../cmd/proc.html#cmd-proc" title="translate processes to netlists"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">proc</span></code></a>, but also determined correctly that it can remove the first
<a class="reference internal" href="../../cell/word_mux.html#mux.$mux" title="mux::$mux"><code class="xref cell cell-ref docutils literal notranslate"><span class="pre">$mux</span></code></a> cell without changing the behavior of the circuit.</p>
</section>
<section id="break-out-boxes-for-signal-vectors">
<h3>Break-out boxes for signal vectors<a class="headerlink" href="#break-out-boxes-for-signal-vectors" title="Link to this heading">¶</a></h3>
<p>The code listing below shows a simple circuit which uses a lot of spliced signal
accesses.</p>
<div class="literal-block-wrapper docutils container" id="splice-src">
<div class="code-block-caption"><span class="caption-number">Listing 74 </span><span class="caption-text"><code class="file docutils literal notranslate"><span class="pre">splice.v</span></code></span><a class="headerlink" href="#splice-src" title="Link to this code">¶</a></div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>module splice_demo(a, b, c, d, e, f, x, y);

input [1:0] a, b, c, d, e, f;
output [1:0] x;
assign x = {a[0], a[1]};

output [11:0] y;
assign {y[11:4], y[1:0], y[3:2]} =
                {a, b, -{c, d}, ~{e, f}};

endmodule
</pre></div>
</div>
</div>
<p>Notice how the output for this circuit from the <a class="reference internal" href="../../cmd/show.html#cmd-show" title="generate schematics using graphviz"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">show</span></code></a> command
(<a class="reference internal" href="#splice-dia"><span class="std std-numref">Fig. 47</span></a>) appears quite complex. This is an unfortunate side effect
of the way Yosys handles signal vectors (aka. multi-bit wires or buses) as
native objects. While this provides great advantages when analyzing circuits
that operate on wide integers, it also introduces some additional complexity
when the individual bits of of a signal vector are accessed.</p>
<figure class="align-default" id="splice-dia">
<img alt="../../_images/splice.svg" class="width-helper invert-helper" src="../../_images/splice.svg" />
<figcaption>
<p><span class="caption-number">Fig. 47 </span><span class="caption-text">Output of <code class="docutils literal notranslate"><span class="pre">yosys</span> <span class="pre">-p</span> <span class="pre">'prep</span> <span class="pre">-top</span> <span class="pre">splice_demo;</span> <span class="pre">show'</span> <span class="pre">splice.v</span></code></span><a class="headerlink" href="#splice-dia" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>The key elements in understanding this circuit diagram are of course the boxes
with round corners and rows labeled <code class="docutils literal notranslate"><span class="pre">&lt;MSB_LEFT&gt;:&lt;LSB_LEFT&gt;</span> <span class="pre">-</span>
<span class="pre">&lt;MSB_RIGHT&gt;:&lt;LSB_RIGHT&gt;</span></code>. Each of these boxes have one signal per row on one
side and a common signal for all rows on the other side. The <code class="docutils literal notranslate"><span class="pre">&lt;MSB&gt;:&lt;LSB&gt;</span></code>
tuples specify which bits of the signals are broken out and connected. So the
top row of the box connecting the signals <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">x</span></code> indicates that the bit
0 (i.e. the range 0:0) from signal <code class="docutils literal notranslate"><span class="pre">a</span></code> is connected to bit 1 (i.e. the range
1:1) of signal <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
<p>Lines connecting such boxes together and lines connecting such boxes to cell
ports have a slightly different look to emphasise that they are not actual
signal wires but a necessity of the graphical representation. This distinction
seems like a technicality, until one wants to debug a problem related to the way
Yosys internally represents signal vectors, for example when writing custom
Yosys commands.</p>
</section>
<section id="gate-level-netlists">
<h3>Gate level netlists<a class="headerlink" href="#gate-level-netlists" title="Link to this heading">¶</a></h3>
<p><a class="reference internal" href="#first-pitfall"><span class="std std-numref">Fig. 48</span></a> shows two common pitfalls when working with designs
mapped to a cell library:</p>
<figure class="align-default" id="first-pitfall">
<img alt="../../_images/cmos_00.svg" class="width-helper invert-helper" src="../../_images/cmos_00.svg" />
<figcaption>
<p><span class="caption-number">Fig. 48 </span><span class="caption-text">A half-adder built from simple CMOS gates, demonstrating common pitfalls when
using <a class="reference internal" href="../../cmd/show.html#cmd-show" title="generate schematics using graphviz"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">show</span></code></a></span><a class="headerlink" href="#first-pitfall" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<div class="literal-block-wrapper docutils container" id="pitfall-code">
<div class="code-block-caption"><span class="caption-number">Listing 75 </span><span class="caption-text">Generating <a class="reference internal" href="#first-pitfall"><span class="std std-numref">Fig. 48</span></a></span><a class="headerlink" href="#pitfall-code" title="Link to this code">¶</a></div>
<div class="highlight-yoscrypt notranslate"><div class="highlight"><pre><span></span><span class="k">read_verilog</span><span class="w"> </span><span class="n">cmos.v</span>
<span class="k">prep</span><span class="w"> </span><span class="na">-top</span><span class="w"> </span><span class="n">cmos_demo</span>
<span class="k">techmap</span>
<span class="k">abc</span><span class="w"> </span><span class="na">-liberty</span><span class="w"> </span><span class="c">..</span><span class="o">/</span><span class="n">intro/mycells.lib</span><span class="nc">;;</span><span class="w"> </span>
<span class="k">show</span><span class="w"> </span><span class="na">-format</span><span class="w"> </span><span class="n">dot</span><span class="w"> </span><span class="na">-prefix</span><span class="w"> </span><span class="n">cmos_00</span>
</pre></div>
</div>
</div>
<p>First, Yosys did not have access to the cell library when this diagram was
generated, resulting in all cell ports defaulting to being inputs. This is why
all ports are drawn on the left side the cells are awkwardly arranged in a large
column. Secondly the two-bit vector <code class="docutils literal notranslate"><span class="pre">y</span></code> requires breakout-boxes for its
individual bits, resulting in an unnecessary complex diagram.</p>
<figure class="align-default" id="second-pitfall">
<img alt="../../_images/cmos_01.svg" class="width-helper invert-helper" src="../../_images/cmos_01.svg" />
<figcaption>
<p><span class="caption-number">Fig. 49 </span><span class="caption-text">Effects of <a class="reference internal" href="../../cmd/splitnets.html#cmd-splitnets" title="split up multi-bit nets"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">splitnets</span></code></a> command and of providing a cell library on design in
<a class="reference internal" href="#first-pitfall"><span class="std std-numref">Fig. 48</span></a></span><a class="headerlink" href="#second-pitfall" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<div class="literal-block-wrapper docutils container" id="pitfall-avoided">
<div class="code-block-caption"><span class="caption-number">Listing 76 </span><span class="caption-text">Generating <a class="reference internal" href="#second-pitfall"><span class="std std-numref">Fig. 49</span></a></span><a class="headerlink" href="#pitfall-avoided" title="Link to this code">¶</a></div>
<div class="highlight-yoscrypt notranslate"><div class="highlight"><pre><span></span><span class="k">read_verilog</span><span class="w"> </span><span class="n">cmos.v</span>
<span class="k">prep</span><span class="w"> </span><span class="na">-top</span><span class="w"> </span><span class="n">cmos_demo</span>
<span class="k">techmap</span>
<span class="k">splitnets</span><span class="w"> </span><span class="na">-ports</span>
<span class="k">abc</span><span class="w"> </span><span class="na">-liberty</span><span class="w"> </span><span class="c">..</span><span class="o">/</span><span class="n">intro/mycells.lib</span><span class="nc">;;</span><span class="w"> </span>
<span class="k">show</span><span class="w"> </span><span class="na">-lib</span><span class="w"> </span><span class="c">..</span><span class="o">/</span><span class="n">intro/mycells.v</span><span class="w"> </span><span class="na">-format</span><span class="w"> </span><span class="n">dot</span><span class="w"> </span><span class="na">-prefix</span><span class="w"> </span><span class="n">cmos_01</span>
</pre></div>
</div>
</div>
<p>For <a class="reference internal" href="#second-pitfall"><span class="std std-numref">Fig. 49</span></a>, Yosys has been given a description of the cell
library as Verilog file containing blackbox modules. There are two ways to load
cell descriptions into Yosys: First the Verilog file for the cell library can be
passed directly to the <a class="reference internal" href="../../cmd/show.html#cmd-show" title="generate schematics using graphviz"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">show</span></code></a> command using the <code class="docutils literal notranslate"><span class="pre">-lib</span> <span class="pre">&lt;filename&gt;</span></code> option.
Secondly it is possible to load cell libraries into the design with the
<code class="code highlight yoscrypt docutils literal highlight-yoscrypt"><span class="k">read_verilog</span><span class="w"> </span><span class="na">-lib</span><span class="w"> </span><span class="n">&lt;filename&gt;</span></code> command. The second method has the
great advantage that the library only needs to be loaded once and can then be
used in all subsequent calls to the <a class="reference internal" href="../../cmd/show.html#cmd-show" title="generate schematics using graphviz"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">show</span></code></a> command.</p>
<p>In addition to that, <a class="reference internal" href="#second-pitfall"><span class="std std-numref">Fig. 49</span></a> was generated after
<code class="code highlight yoscrypt docutils literal highlight-yoscrypt"><span class="k">splitnet</span><span class="w"> </span><span class="na">-ports</span></code> was run on the design. This command splits all
signal vectors into individual signal bits, which is often desirable when
looking at gate-level circuits. The <code class="docutils literal notranslate"><span class="pre">-ports</span></code> option is required to also split
module ports. Per default the command only operates on interior signals.</p>
</section>
<section id="miscellaneous-notes">
<h3>Miscellaneous notes<a class="headerlink" href="#miscellaneous-notes" title="Link to this heading">¶</a></h3>
<p>Per default the <a class="reference internal" href="../../cmd/show.html#cmd-show" title="generate schematics using graphviz"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">show</span></code></a> command outputs a temporary dot file and launches
<code class="docutils literal notranslate"><span class="pre">xdot</span></code> to display it. The options <code class="docutils literal notranslate"><span class="pre">-format</span></code>, <code class="docutils literal notranslate"><span class="pre">-viewer</span></code> and <code class="docutils literal notranslate"><span class="pre">-prefix</span></code> can
be used to change format, viewer and filename prefix. Note that the <code class="docutils literal notranslate"><span class="pre">pdf</span></code> and
<code class="docutils literal notranslate"><span class="pre">ps</span></code> format are the only formats that support plotting multiple modules in one
run.  The <code class="docutils literal notranslate"><span class="pre">dot</span></code> format can be used to output multiple modules, however
<code class="docutils literal notranslate"><span class="pre">xdot</span></code> will raise an error when trying to read them.</p>
<p>In densely connected circuits it is sometimes hard to keep track of the
individual signal wires. For these cases it can be useful to call <a class="reference internal" href="../../cmd/show.html#cmd-show" title="generate schematics using graphviz"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">show</span></code></a> with
the <code class="docutils literal notranslate"><span class="pre">-colors</span> <span class="pre">&lt;integer&gt;</span></code> argument, which randomly assigns colors to the nets.
The integer (&gt; 0) is used as seed value for the random color assignments.
Sometimes it is necessary it try some values to find an assignment of colors
that looks good.</p>
<p>The command <code class="code highlight yoscrypt docutils literal highlight-yoscrypt"><span class="k">help</span><span class="w"> </span><span class="n">show</span></code> prints a complete listing of all options
supported by the <a class="reference internal" href="../../cmd/show.html#cmd-show" title="generate schematics using graphviz"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">show</span></code></a> command.</p>
</section>
</section>
<section id="navigating-the-design">
<h2>Navigating the design<a class="headerlink" href="#navigating-the-design" title="Link to this heading">¶</a></h2>
<p>Plotting circuit diagrams for entire modules in the design brings us only helps
in simple cases. For complex modules the generated circuit diagrams are just
stupidly big and are no help at all. In such cases one first has to select the
relevant portions of the circuit.</p>
<p>In addition to <em>what</em> to display one also needs to carefully decide <em>when</em> to
display it, with respect to the synthesis flow. In general it is a good idea to
troubleshoot a circuit in the earliest state in which a problem can be
reproduced. So if, for example, the internal state before calling the <a class="reference internal" href="../../cmd/techmap.html#cmd-techmap" title="generic technology mapper"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">techmap</span></code></a>
command already fails to verify, it is better to troubleshoot the coarse-grain
version of the circuit before <a class="reference internal" href="../../cmd/techmap.html#cmd-techmap" title="generic technology mapper"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">techmap</span></code></a> than the gate-level circuit after
<a class="reference internal" href="../../cmd/techmap.html#cmd-techmap" title="generic technology mapper"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">techmap</span></code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is generally recommended to verify the internal state of a design by
writing it to a Verilog file using <code class="code highlight yoscrypt docutils literal highlight-yoscrypt"><span class="k">write_verilog</span><span class="w"> </span><span class="na">-noexpr</span></code> and
using the simulation models from <code class="file docutils literal notranslate"><span class="pre">simlib.v</span></code> and <code class="file docutils literal notranslate"><span class="pre">simcells.v</span></code> from
the Yosys data directory (as printed by <code class="docutils literal notranslate"><span class="pre">yosys-config</span> <span class="pre">--datdir</span></code>).</p>
</div>
<section id="interactive-navigation">
<h3>Interactive navigation<a class="headerlink" href="#interactive-navigation" title="Link to this heading">¶</a></h3>
<p>Once the right state within the synthesis flow for debugging the circuit has
been identified, it is recommended to simply add the <a class="reference internal" href="../../cmd/shell.html#cmd-shell" title="enter interactive command mode"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">shell</span></code></a> command to the
matching place in the synthesis script. This command will stop the synthesis at
the specified moment and go to shell mode, where the user can interactively
enter commands.</p>
<p>For most cases, the shell will start with the whole design selected (i.e. when
the synthesis script does not already narrow the selection). The command <a class="reference internal" href="../../cmd/ls.html#cmd-ls" title="list modules or objects in modules"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">ls</span></code></a>
can now be used to create a list of all modules. The command <a class="reference internal" href="../../cmd/cd.html#cmd-cd" title="a shortcut for 'select -module &lt;name&gt;'"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">cd</span></code></a> can be used to
switch to one of the modules (type <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">..</span></code> to switch back). Now the <a class="reference internal" href="../../cmd/ls.html#cmd-ls" title="list modules or objects in modules"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">ls</span></code></a>
command lists the objects within that module. This is demonstrated below using
<code class="file docutils literal notranslate"><span class="pre">example.v</span></code> from <a class="reference internal" href="#a-simple-circuit">A simple circuit</a>:</p>
<div class="literal-block-wrapper docutils container" id="lscd">
<div class="code-block-caption"><span class="caption-number">Listing 77 </span><span class="caption-text">Output of <a class="reference internal" href="../../cmd/ls.html#cmd-ls" title="list modules or objects in modules"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">ls</span></code></a> and <a class="reference internal" href="../../cmd/cd.html#cmd-cd" title="a shortcut for 'select -module &lt;name&gt;'"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">cd</span></code></a> after running <code class="file docutils literal notranslate"><span class="pre">yosys</span> <span class="pre">example.v</span></code></span><a class="headerlink" href="#lscd" title="Link to this code">¶</a></div>
<div class="highlight-doscon notranslate"><div class="highlight"><pre><span></span><span class="gp">yosys&gt;</span> ls

<span class="go">1 modules:</span>
<span class="go">  example</span>

<span class="gp">yosys&gt;</span> <span class="k">cd</span> example

<span class="gp">yosys [example]&gt;</span> ls

<span class="go">8 wires:</span>
<span class="go">  $0\y[1:0]</span>
<span class="go">  $add$example.v:5$2_Y</span>
<span class="go">  $ternary$example.v:5$3_Y</span>
<span class="go">  a</span>
<span class="go">  b</span>
<span class="go">  c</span>
<span class="go">  clk</span>
<span class="go">  y</span>

<span class="go">2 cells:</span>
<span class="go">  $add$example.v:5$2</span>
<span class="go">  $ternary$example.v:5$3</span>

<span class="go">1 processes:</span>
<span class="go">  $proc$example.v:3$1</span>
</pre></div>
</div>
</div>
<p>When a module is selected using the <a class="reference internal" href="../../cmd/cd.html#cmd-cd" title="a shortcut for 'select -module &lt;name&gt;'"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">cd</span></code></a> command, all commands (with a few
exceptions, such as the <code class="docutils literal notranslate"><span class="pre">read_</span></code> and <code class="docutils literal notranslate"><span class="pre">write_</span></code> commands) operate only on the
selected module. This can also be useful for synthesis scripts where different
synthesis strategies should be applied to different modules in the design.</p>
<p>We can see that the cell names from <a class="reference internal" href="#example-out"><span class="std std-numref">Fig. 46</span></a> are just abbreviations
of the actual cell names, namely the part after the last dollar-sign. Most
auto-generated names (the ones starting with a dollar sign) are rather long and
contains some additional information on the origin of the named object. But in
most cases those names can simply be abbreviated using the last part.</p>
<p>Usually all interactive work is done with one module selected using the <a class="reference internal" href="../../cmd/cd.html#cmd-cd" title="a shortcut for 'select -module &lt;name&gt;'"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">cd</span></code></a>
command. But it is also possible to work from the design-context (<code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">..</span></code>). In
this case all object names must be prefixed with <code class="docutils literal notranslate"><span class="pre">&lt;module_name&gt;/</span></code>. For example
<code class="docutils literal notranslate"><span class="pre">a*/b*</span></code> would refer to all objects whose names start with <code class="docutils literal notranslate"><span class="pre">b</span></code> from all
modules whose names start with <code class="docutils literal notranslate"><span class="pre">a</span></code>.</p>
<p>The <a class="reference internal" href="../../cmd/dump.html#cmd-dump" title="print parts of the design in RTLIL format"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">dump</span></code></a> command can be used to print all information about an object. For
example, calling <code class="code highlight yoscrypt docutils literal highlight-yoscrypt"><span class="k">dump</span><span class="w"> </span><span class="nb">$2</span></code> after the <code class="code highlight yoscrypt docutils literal highlight-yoscrypt"><span class="k">cd</span><span class="w"> </span><span class="n">example</span></code> above:</p>
<div class="literal-block-wrapper docutils container" id="dump2">
<div class="code-block-caption"><span class="caption-number">Listing 78 </span><span class="caption-text">Output of <code class="code highlight yoscrypt docutils literal highlight-yoscrypt"><span class="k">dump</span><span class="w"> </span><span class="nb">$2</span></code> after <a class="reference internal" href="#lscd"><span class="std std-numref">Listing 77</span></a></span><a class="headerlink" href="#dump2" title="Link to this code">¶</a></div>
<div class="highlight-RTLIL notranslate"><div class="highlight"><pre><span></span><span class="k">attribute</span><span class="w"> </span><span class="nv">\src</span><span class="w"> </span><span class="s">&quot;example.v:5.22-5.27&quot;</span>
<span class="k">cell</span><span class="w"> </span><span class="nf">$add</span><span class="w"> </span><span class="nf">$add$example.v:5$2</span>
<span class="w">  </span><span class="k">parameter</span><span class="w"> </span><span class="nv">\Y_WIDTH</span><span class="w"> </span><span class="mi">2</span>
<span class="w">  </span><span class="k">parameter</span><span class="w"> </span><span class="nv">\B_WIDTH</span><span class="w"> </span><span class="mi">1</span>
<span class="w">  </span><span class="k">parameter</span><span class="w"> </span><span class="nv">\A_WIDTH</span><span class="w"> </span><span class="mi">1</span>
<span class="w">  </span><span class="k">parameter</span><span class="w"> </span><span class="nv">\B_SIGNED</span><span class="w"> </span><span class="mi">0</span>
<span class="w">  </span><span class="k">parameter</span><span class="w"> </span><span class="nv">\A_SIGNED</span><span class="w"> </span><span class="mi">0</span>
<span class="w">  </span><span class="k">connect</span><span class="w"> </span><span class="nv">\Y</span><span class="w"> </span><span class="nv">$add$example.v:5$2_Y</span>
<span class="w">  </span><span class="k">connect</span><span class="w"> </span><span class="nv">\B</span><span class="w"> </span><span class="nv">\b</span>
<span class="w">  </span><span class="k">connect</span><span class="w"> </span><span class="nv">\A</span><span class="w"> </span><span class="nv">\a</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
<p>This can for example be useful to determine the names of nets connected to
cells, as the net-names are usually suppressed in the circuit diagram if they
are auto-generated.  Note that the output is in the RTLIL representation,
described in <a class="reference internal" href="../../yosys_internals/formats/rtlil_rep.html"><span class="doc">The RTL Intermediate Language (RTLIL)</span></a>.</p>
</section>
</section>
<section id="id3">
<h2>Interactive Design Investigation<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h2>
<p>Yosys can also be used to investigate designs (or netlists created from other
tools).</p>
<ul class="simple">
<li><p>The selection mechanism, especially patterns such as <code class="docutils literal notranslate"><span class="pre">%ci</span></code> and <code class="docutils literal notranslate"><span class="pre">%co</span></code>, can
be used to figure out how parts of the design are connected.</p></li>
<li><p>Commands such as <a class="reference internal" href="../../cmd/submod.html#cmd-submod" title="moving part of a module to a new submodule"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">submod</span></code></a>, <a class="reference internal" href="../../cmd/expose.html#cmd-expose" title="convert internal signals to module ports"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">expose</span></code></a>, and <a class="reference internal" href="../../cmd/splice.html#cmd-splice" title="create explicit splicing cells"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">splice</span></code></a> can be used to transform the
design into an equivalent design that is easier to analyse.</p></li>
<li><p>Commands such as <a class="reference internal" href="../../cmd/eval.html#cmd-eval" title="evaluate the circuit given an input"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">eval</span></code></a> and <a class="reference internal" href="../../cmd/sat.html#cmd-sat" title="solve a SAT problem in the circuit"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">sat</span></code></a> can be used to investigate the behavior of
the circuit.</p></li>
<li><p><a class="reference internal" href="../../cmd/show.html"><span class="doc">show - generate schematics using graphviz</span></a>.</p></li>
<li><p><a class="reference internal" href="../../cmd/dump.html"><span class="doc">dump - print parts of the design in RTLIL format</span></a>.</p></li>
<li><p><a class="reference internal" href="../../cmd/add.html"><span class="doc">add - add objects to the design</span></a> and <a class="reference internal" href="../../cmd/delete.html"><span class="doc">delete - delete objects in the design</span></a> can be used to modify and reorganize a
design dynamically.</p></li>
</ul>
<p>The code used is included in the Yosys code base under
<a class="reference external" href="https://github.com/YosysHQ/yosys/tree/main/docs/source/code_examples/scrambler"><code class="file docutils literal notranslate"><span class="pre">docs/source/code_examples/scrambler</span></code></a>.</p>
<section id="changing-design-hierarchy">
<h3>Changing design hierarchy<a class="headerlink" href="#changing-design-hierarchy" title="Link to this heading">¶</a></h3>
<p>Commands such as <a class="reference internal" href="../../cmd/flatten.html#cmd-flatten" title="flatten design"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">flatten</span></code></a> and <a class="reference internal" href="../../cmd/submod.html#cmd-submod" title="moving part of a module to a new submodule"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">submod</span></code></a> can be used to change the design
hierarchy, i.e. flatten the hierarchy or moving parts of a module to a
submodule. This has applications in synthesis scripts as well as in reverse
engineering and analysis.  An example using <a class="reference internal" href="../../cmd/submod.html#cmd-submod" title="moving part of a module to a new submodule"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">submod</span></code></a> is shown below for
reorganizing a module in Yosys and checking the resulting circuit.</p>
<div class="literal-block-wrapper docutils container" id="id15">
<div class="code-block-caption"><span class="caption-number">Listing 79 </span><span class="caption-text"><code class="file docutils literal notranslate"><span class="pre">scrambler.v</span></code></span><a class="headerlink" href="#id15" title="Link to this code">¶</a></div>
<div class="highlight-verilog notranslate"><div class="highlight"><pre><span></span><span class="k">module</span><span class="w"> </span><span class="n">scrambler</span><span class="p">(</span>
<span class="w">        </span><span class="k">input</span><span class="w"> </span><span class="n">clk</span><span class="p">,</span><span class="w"> </span><span class="n">rst</span><span class="p">,</span><span class="w"> </span><span class="n">in_bit</span><span class="p">,</span>
<span class="w">        </span><span class="k">output</span><span class="w"> </span><span class="kt">reg</span><span class="w"> </span><span class="n">out_bit</span>
<span class="p">);</span>
<span class="w">    </span><span class="kt">reg</span><span class="w"> </span><span class="p">[</span><span class="mh">31</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">xs</span><span class="p">;</span>
<span class="w">    </span><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clk</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rst</span><span class="p">)</span>
<span class="w">	    </span><span class="n">xs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">1</span><span class="p">;</span>
<span class="w">        </span><span class="n">xs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xs</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="p">(</span><span class="n">xs</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mh">13</span><span class="p">);</span>
<span class="w">        </span><span class="n">xs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xs</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="p">(</span><span class="n">xs</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="mh">17</span><span class="p">);</span>
<span class="w">        </span><span class="n">xs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xs</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="p">(</span><span class="n">xs</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mh">5</span><span class="p">);</span>
<span class="w">        </span><span class="n">out_bit</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">in_bit</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="n">xs</span><span class="p">[</span><span class="mh">0</span><span class="p">];</span>
<span class="w">    </span><span class="k">end</span>
<span class="k">endmodule</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id16">
<div class="code-block-caption"><span class="caption-number">Listing 80 </span><span class="caption-text"><code class="file docutils literal notranslate"><span class="pre">scrambler.ys</span></code></span><a class="headerlink" href="#id16" title="Link to this code">¶</a></div>
<div class="highlight-yoscrypt notranslate"><div class="highlight"><pre><span></span><span class="k">read_verilog</span><span class="w"> </span><span class="n">scrambler.v</span>

<span class="k">hierarchy</span><span class="o">;</span><span class="w"> </span><span class="k">proc</span><span class="nc">;;</span>

<span class="k">cd</span><span class="w"> </span><span class="n">scrambler</span>
<span class="k">submod</span><span class="w"> </span><span class="na">-name</span><span class="w"> </span><span class="n">xorshift32</span><span class="w"> </span><span class="n">xs</span><span class="w"> </span><span class="kt">%c</span><span class="w"> </span><span class="kt">%ci</span><span class="w"> </span><span class="kt">%D</span><span class="w"> </span><span class="kt">%c</span><span class="w"> </span><span class="kt">%ci</span><span class="o">:+[</span><span class="n">D</span><span class="o">]</span><span class="w"> </span><span class="kt">%D</span><span class="w"> </span><span class="kt">%ci</span><span class="m">*</span><span class="o">:</span><span class="c">-</span><span class="nb">$dff</span><span class="w"> </span><span class="n">xs</span><span class="w"> </span><span class="kt">%co</span><span class="w"> </span><span class="kt">%ci</span><span class="w"> </span><span class="kt">%d</span>
</pre></div>
</div>
</div>
<figure class="align-default">
<img alt="../../_images/scrambler_p01.svg" class="width-helper invert-helper" src="../../_images/scrambler_p01.svg" />
</figure>
<figure class="align-default">
<img alt="../../_images/scrambler_p02.svg" class="width-helper invert-helper" src="../../_images/scrambler_p02.svg" />
</figure>
<p>Analyzing the resulting circuit with <a class="reference internal" href="../../cmd/eval.html"><span class="doc">eval - evaluate the circuit given an input</span></a>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&gt; cd xorshift32
&gt; rename n2 in
&gt; rename n1 out

&gt; eval -set in 1 -show out
Eval result: \out = 270369.

&gt; eval -set in 270369 -show out
Eval result: \out = 67634689.

&gt; sat -set out 632435482
Signal Name                 Dec        Hex                                   Bin
-------------------- ---------- ---------- -------------------------------------
\in                   745495504   2c6f5bd0      00101100011011110101101111010000
\out                  632435482   25b2331a      00100101101100100011001100011010
</pre></div>
</div>
</section>
<section id="behavioral-changes">
<h3>Behavioral changes<a class="headerlink" href="#behavioral-changes" title="Link to this heading">¶</a></h3>
<p>Commands such as <a class="reference internal" href="../../cmd/techmap.html#cmd-techmap" title="generic technology mapper"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">techmap</span></code></a> can be used to make behavioral changes to the design,
for example changing asynchronous resets to synchronous resets. This has
applications in design space exploration (evaluation of various architectures
for one circuit).</p>
<p>The following techmap map file replaces all positive-edge async reset flip-flops
with positive-edge sync reset flip-flops. The code is taken from the example
Yosys script for ASIC synthesis of the Amber ARMv2 CPU.</p>
<div class="highlight-verilog notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span><span class="w"> </span><span class="n">techmap_celltype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;$adff&quot;</span><span class="w"> </span><span class="o">*</span><span class="p">)</span>
<span class="k">module</span><span class="w"> </span><span class="n">adff2dff</span><span class="w"> </span><span class="p">(</span><span class="n">CLK</span><span class="p">,</span><span class="w"> </span><span class="n">ARST</span><span class="p">,</span><span class="w"> </span><span class="n">D</span><span class="p">,</span><span class="w"> </span><span class="n">Q</span><span class="p">);</span>

<span class="w">    </span><span class="k">parameter</span><span class="w"> </span><span class="n">WIDTH</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">1</span><span class="p">;</span>
<span class="w">    </span><span class="k">parameter</span><span class="w"> </span><span class="n">CLK_POLARITY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">1</span><span class="p">;</span>
<span class="w">    </span><span class="k">parameter</span><span class="w"> </span><span class="n">ARST_POLARITY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">1</span><span class="p">;</span>
<span class="w">    </span><span class="k">parameter</span><span class="w"> </span><span class="n">ARST_VALUE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0</span><span class="p">;</span>

<span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="n">CLK</span><span class="p">,</span><span class="w"> </span><span class="n">ARST</span><span class="p">;</span>
<span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="p">[</span><span class="n">WIDTH</span><span class="o">-</span><span class="mh">1</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">D</span><span class="p">;</span>
<span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="kt">reg</span><span class="w"> </span><span class="p">[</span><span class="n">WIDTH</span><span class="o">-</span><span class="mh">1</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">Q</span><span class="p">;</span>

<span class="w">    </span><span class="kt">wire</span><span class="w"> </span><span class="p">[</span><span class="mh">1023</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">_TECHMAP_DO_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;proc&quot;</span><span class="p">;</span>

<span class="w">    </span><span class="kt">wire</span><span class="w"> </span><span class="n">_TECHMAP_FAIL_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="n">CLK_POLARITY</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="n">ARST_POLARITY</span><span class="p">;</span>

<span class="w">    </span><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">CLK</span><span class="p">)</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ARST</span><span class="p">)</span>
<span class="w">            </span><span class="n">Q</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">ARST_VALUE</span><span class="p">;</span>
<span class="w">        </span><span class="k">else</span>
<span class="w">            </span><span class="n">Q</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">D</span><span class="p">;</span>

<span class="k">endmodule</span>
</pre></div>
</div>
<p>For more on the <a class="reference internal" href="../../cmd/techmap.html#cmd-techmap" title="generic technology mapper"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">techmap</span></code></a> command, see the page on
<a class="reference internal" href="../../yosys_internals/techmap.html"><span class="doc">Techmap by example</span></a>.</p>
</section>
</section>
<section id="advanced-investigation-techniques">
<h2>Advanced investigation techniques<a class="headerlink" href="#advanced-investigation-techniques" title="Link to this heading">¶</a></h2>
<p>When working with very large modules, it is often not enough to just select the
interesting part of the module. Instead it can be useful to extract the
interesting part of the circuit into a separate module. This can for example be
useful if one wants to run a series of synthesis commands on the critical part
of the module and wants to carefully read all the debug output created by the
commands in order to spot a problem. This kind of troubleshooting is much easier
if the circuit under investigation is encapsulated in a separate module.</p>
<p>Recall the <code class="docutils literal notranslate"><span class="pre">memdemo</span></code> design from <a class="reference internal" href="selections.html#advanced-logic-cones"><span class="std std-ref">Advanced logic cone selection</span></a>:</p>
<figure class="align-default" id="id17">
<img alt="../../_images/memdemo_00.svg" class="width-helper invert-helper" src="../../_images/memdemo_00.svg" />
<figcaption>
<p><span class="caption-number">Fig. 50 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">memdemo</span></code></span><a class="headerlink" href="#id17" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Because this produces a rather large circuit, it can be useful to split it into
smaller parts for viewing and working with.  <a class="reference internal" href="#submod"><span class="std std-numref">Listing 81</span></a> does exactly that,
utilising the <a class="reference internal" href="../../cmd/submod.html#cmd-submod" title="moving part of a module to a new submodule"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">submod</span></code></a> command to split the circuit into three sections:
<code class="docutils literal notranslate"><span class="pre">outstage</span></code>, <code class="docutils literal notranslate"><span class="pre">selstage</span></code>, and <code class="docutils literal notranslate"><span class="pre">scramble</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="submod">
<div class="code-block-caption"><span class="caption-number">Listing 81 </span><span class="caption-text">Using <a class="reference internal" href="../../cmd/submod.html#cmd-submod" title="moving part of a module to a new submodule"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">submod</span></code></a> to break up the circuit from <code class="file docutils literal notranslate"><span class="pre">memdemo.v</span></code></span><a class="headerlink" href="#submod" title="Link to this code">¶</a></div>
<div class="highlight-yoscrypt notranslate"><div class="highlight"><pre><span></span><span class="k">select</span><span class="w"> </span><span class="na">-set</span><span class="w"> </span><span class="n">outstage</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="kt">%ci</span><span class="m">2</span><span class="o">:+</span><span class="nb">$dff</span><span class="o">[</span><span class="n">Q</span><span class="o">,</span><span class="n">D</span><span class="o">]</span><span class="w"> </span><span class="kt">%ci</span><span class="m">*</span><span class="o">:</span><span class="c">-</span><span class="nb">$mux</span><span class="o">[</span><span class="n">S</span><span class="o">]:</span><span class="c">-</span><span class="nb">$dff</span>
<span class="k">select</span><span class="w"> </span><span class="na">-set</span><span class="w"> </span><span class="n">selstage</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="kt">%ci</span><span class="m">2</span><span class="o">:+</span><span class="nb">$dff</span><span class="o">[</span><span class="n">Q</span><span class="o">,</span><span class="n">D</span><span class="o">]</span><span class="w"> </span><span class="kt">%ci</span><span class="m">*</span><span class="o">:</span><span class="c">-</span><span class="nb">$dff</span><span class="w"> </span><span class="kt">@</span><span class="n">outstage</span><span class="w"> </span><span class="kt">%d</span>
<span class="k">select</span><span class="w"> </span><span class="na">-set</span><span class="w"> </span><span class="n">scramble</span><span class="w"> </span><span class="n">mem</span><span class="c">*</span><span class="w"> </span><span class="kt">%ci</span><span class="m">2</span><span class="w"> </span><span class="kt">%ci</span><span class="m">*</span><span class="o">:</span><span class="c">-</span><span class="nb">$dff</span><span class="w"> </span><span class="n">mem</span><span class="c">*</span><span class="w"> </span><span class="kt">%d</span><span class="w"> </span><span class="kt">@</span><span class="n">selstage</span><span class="w"> </span><span class="kt">%d</span>
<span class="k">submod</span><span class="w"> </span><span class="na">-name</span><span class="w"> </span><span class="n">scramble</span><span class="w"> </span><span class="kt">@</span><span class="n">scramble</span>
<span class="k">submod</span><span class="w"> </span><span class="na">-name</span><span class="w"> </span><span class="n">outstage</span><span class="w"> </span><span class="kt">@</span><span class="n">outstage</span>
<span class="k">submod</span><span class="w"> </span><span class="na">-name</span><span class="w"> </span><span class="n">selstage</span><span class="w"> </span><span class="kt">@</span><span class="n">selstage</span>
</pre></div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">-name</span></code> option is used to specify the name of the new module and also the
name of the new cell in the current module. The resulting circuits are shown
below.</p>
<figure class="align-default" id="id18">
<img alt="../../_images/submod_02.svg" class="width-helper invert-helper" src="../../_images/submod_02.svg" />
<figcaption>
<p><span class="caption-number">Fig. 51 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">outstage</span></code></span><a class="headerlink" href="#id18" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="selstage">
<img alt="../../_images/submod_03.svg" class="width-helper invert-helper" src="../../_images/submod_03.svg" />
<figcaption>
<p><span class="caption-number">Fig. 52 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">selstage</span></code></span><a class="headerlink" href="#selstage" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id19">
<img alt="../../_images/submod_01.svg" class="width-helper invert-helper" src="../../_images/submod_01.svg" />
<figcaption>
<p><span class="caption-number">Fig. 53 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">scramble</span></code></span><a class="headerlink" href="#id19" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<section id="evaluation-of-combinatorial-circuits">
<h3>Evaluation of combinatorial circuits<a class="headerlink" href="#evaluation-of-combinatorial-circuits" title="Link to this heading">¶</a></h3>
<p>The <a class="reference internal" href="../../cmd/eval.html#cmd-eval" title="evaluate the circuit given an input"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">eval</span></code></a> command can be used to evaluate combinatorial circuits. As an
example, we will use the <code class="docutils literal notranslate"><span class="pre">selstage</span></code> subnet of <code class="docutils literal notranslate"><span class="pre">memdemo</span></code> which we found above
and is shown in <a class="reference internal" href="#selstage"><span class="std std-numref">Fig. 52</span></a>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>yosys [selstage]&gt; eval -set s2,s1 4&#39;b1001 -set d 4&#39;hc -show n2 -show n1

1. Executing EVAL pass (evaluate the circuit given an input).
Full command line: eval -set s2,s1 4&#39;b1001 -set d 4&#39;hc -show n2 -show n1
Eval result: \n2 = 2&#39;10.
Eval result: \n1 = 2&#39;10.
</pre></div>
</div>
<p>So the <code class="docutils literal notranslate"><span class="pre">-set</span></code> option is used to set input values and the <code class="docutils literal notranslate"><span class="pre">-show</span></code> option is
used to specify the nets to evaluate. If no <code class="docutils literal notranslate"><span class="pre">-show</span></code> option is specified, all
selected output ports are used per default.</p>
<p>If a necessary input value is not given, an error is produced. The option
<code class="docutils literal notranslate"><span class="pre">-set-undef</span></code> can be used to instead set all unspecified input nets to undef
(<code class="docutils literal notranslate"><span class="pre">x</span></code>).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">-table</span></code> option can be used to create a truth table. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>yosys [selstage]&gt; eval -set-undef -set d[3:1] 0 -table s1,d[0]

10. Executing EVAL pass (evaluate the circuit given an input).
Full command line: eval -set-undef -set d[3:1] 0 -table s1,d[0]

  \s1 \d [0] |  \n1  \n2
 ---- ------ | ---- ----
 2&#39;00    1&#39;0 | 2&#39;00 2&#39;00
 2&#39;00    1&#39;1 | 2&#39;xx 2&#39;00
 2&#39;01    1&#39;0 | 2&#39;00 2&#39;00
 2&#39;01    1&#39;1 | 2&#39;xx 2&#39;01
 2&#39;10    1&#39;0 | 2&#39;00 2&#39;00
 2&#39;10    1&#39;1 | 2&#39;xx 2&#39;10
 2&#39;11    1&#39;0 | 2&#39;00 2&#39;00
 2&#39;11    1&#39;1 | 2&#39;xx 2&#39;11

Assumed undef (x) value for the following signals: \s2
</pre></div>
</div>
<p>Note that the <a class="reference internal" href="../../cmd/eval.html#cmd-eval" title="evaluate the circuit given an input"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">eval</span></code></a> command (as well as the <a class="reference internal" href="../../cmd/sat.html#cmd-sat" title="solve a SAT problem in the circuit"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">sat</span></code></a> command discussed in the next
sections) does only operate on flattened modules. It can not analyze signals
that are passed through design hierarchy levels. So the <a class="reference internal" href="../../cmd/flatten.html#cmd-flatten" title="flatten design"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">flatten</span></code></a> command must
be used on modules that instantiate other modules before these commands can be
applied.</p>
</section>
<section id="solving-combinatorial-sat-problems">
<h3>Solving combinatorial SAT problems<a class="headerlink" href="#solving-combinatorial-sat-problems" title="Link to this heading">¶</a></h3>
<p>Often the opposite of the <a class="reference internal" href="../../cmd/eval.html#cmd-eval" title="evaluate the circuit given an input"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">eval</span></code></a> command is needed, i.e. the circuits output is
given and we want to find the matching input signals. For small circuits with
only a few input bits this can be accomplished by trying all possible input
combinations, as it is done by the <code class="docutils literal notranslate"><span class="pre">eval</span> <span class="pre">-table</span></code> command. For larger circuits
however, Yosys provides the <a class="reference internal" href="../../cmd/sat.html#cmd-sat" title="solve a SAT problem in the circuit"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">sat</span></code></a> command that uses a <a class="reference external" href="http://en.wikipedia.org/wiki/Circuit_satisfiability">SAT</a> solver, <a class="reference external" href="http://minisat.se/">MiniSAT</a>,
to solve this kind of problems.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>While it is possible to perform model checking directly in Yosys, it
is highly recommended to use SBY or EQY for formal hardware verification.</p>
</div>
<p>The <a class="reference internal" href="../../cmd/sat.html#cmd-sat" title="solve a SAT problem in the circuit"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">sat</span></code></a> command works very similar to the <a class="reference internal" href="../../cmd/eval.html#cmd-eval" title="evaluate the circuit given an input"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">eval</span></code></a> command. The main difference
is that it is now also possible to set output values and find the corresponding
input values. For Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>yosys [selstage]&gt; sat -show s1,s2,d -set s1 s2 -set n2,n1 4&#39;b1001

11. Executing SAT pass (solving SAT problems in the circuit).
Full command line: sat -show s1,s2,d -set s1 s2 -set n2,n1 4&#39;b1001

Setting up SAT problem:
Import set-constraint: \s1 = \s2
Import set-constraint: { \n2 \n1 } = 4&#39;1001
Final constraint equation: { \n2 \n1 \s1 } = { 4&#39;1001 \s2 }
Imported 3 cells to SAT database.
Import show expression: { \s1 \s2 \d }

Solving problem with 81 variables and 207 clauses..
SAT solving finished - model found:

  Signal Name                 Dec        Hex             Bin
  -------------------- ---------- ---------- ---------------
  \d                            9          9            1001
  \s1                           0          0              00
  \s2                           0          0              00
</pre></div>
</div>
<p>Note that the <a class="reference internal" href="../../cmd/sat.html#cmd-sat" title="solve a SAT problem in the circuit"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">sat</span></code></a> command supports signal names in both arguments to the
<code class="docutils literal notranslate"><span class="pre">-set</span></code> option. In the above example we used <code class="docutils literal notranslate"><span class="pre">-set</span> <span class="pre">s1</span> <span class="pre">s2</span></code> to constraint
<code class="docutils literal notranslate"><span class="pre">s1</span></code> and <code class="docutils literal notranslate"><span class="pre">s2</span></code> to be equal. When more complex constraints are needed, a
wrapper circuit must be constructed that checks the constraints and signals if
the constraint was met using an extra output port, which then can be forced to a
value using the <code class="docutils literal notranslate"><span class="pre">-set</span></code> option. (Such a circuit that contains the circuit under
test plus additional constraint checking circuitry is called a <code class="docutils literal notranslate"><span class="pre">miter</span></code>
circuit.)</p>
<div class="literal-block-wrapper docutils container" id="primetest">
<div class="code-block-caption"><span class="caption-number">Listing 82 </span><span class="caption-text"><code class="file docutils literal notranslate"><span class="pre">primetest.v</span></code>, a simple miter circuit for testing if a number is
prime. But it has a problem.</span><a class="headerlink" href="#primetest" title="Link to this code">¶</a></div>
<div class="highlight-verilog notranslate"><div class="highlight"><pre><span></span><span class="k">module</span><span class="w"> </span><span class="n">primetest</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="p">);</span>
<span class="k">input</span><span class="w"> </span><span class="p">[</span><span class="mh">15</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="k">output</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mh">1</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mh">1</span><span class="p">;</span>
<span class="k">endmodule</span>
</pre></div>
</div>
</div>
<p><a class="reference internal" href="#primetest"><span class="std std-numref">Listing 82</span></a> shows a miter circuit that is supposed to be used as a prime
number test. If <code class="docutils literal notranslate"><span class="pre">ok</span></code> is 1 for all input values <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> for a given
<code class="docutils literal notranslate"><span class="pre">p</span></code>, then <code class="docutils literal notranslate"><span class="pre">p</span></code> is prime, or at least that is the idea.</p>
<div class="literal-block-wrapper docutils container" id="prime-shell">
<div class="code-block-caption"><span class="caption-number">Listing 83 </span><span class="caption-text">Experiments with the miter circuit from <code class="file docutils literal notranslate"><span class="pre">primetest.v</span></code>.</span><a class="headerlink" href="#prime-shell" title="Link to this code">¶</a></div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>yosys [primetest]&gt; sat -prove ok 1 -set p 31

1. Executing SAT pass (solving SAT problems in the circuit).
Full command line: sat -prove ok 1 -set p 31

Setting up SAT problem:
Import set-constraint: \p = 16&#39;0000000000011111
Final constraint equation: \p = 16&#39;0000000000011111
Imported 6 cells to SAT database.
Import proof-constraint: \ok = 1&#39;1
Final proof equation: \ok = 1&#39;1

Solving problem with 2790 variables and 8241 clauses..
SAT proof finished - model found: FAIL!

   ______                   ___       ___       _ _            _ _
  (_____ \                 / __)     / __)     (_) |          | | |
   _____) )___ ___   ___ _| |__    _| |__ _____ _| | _____  __| | |
  |  ____/ ___) _ \ / _ (_   __)  (_   __|____ | | || ___ |/ _  |_|
  | |   | |  | |_| | |_| || |       | |  / ___ | | || ____( (_| |_
  |_|   |_|   \___/ \___/ |_|       |_|  \_____|_|\_)_____)\____|_|


  Signal Name                 Dec        Hex                   Bin
  -------------------- ---------- ---------- ---------------------
  \a                        15029       3ab5      0011101010110101
  \b                         4099       1003      0001000000000011
  \ok                           0          0                     0
  \p                           31         1f      0000000000011111
</pre></div>
</div>
</div>
<p>The Yosys shell session shown in <a class="reference internal" href="#prime-shell"><span class="std std-numref">Listing 83</span></a> demonstrates that SAT
solvers can even find the unexpected solutions to a problem: Using integer
overflow there actually is a way of “factorizing” 31. The clean solution would
of course be to perform the test in 32 bits, for example by replacing <code class="docutils literal notranslate"><span class="pre">p</span> <span class="pre">!=</span>
<span class="pre">a*b</span></code> in the miter with <code class="docutils literal notranslate"><span class="pre">p</span> <span class="pre">!=</span> <span class="pre">{16'd0,a}b</span></code>, or by using a temporary variable
for the 32 bit product <code class="docutils literal notranslate"><span class="pre">a*b</span></code>. But as 31 fits well into 8 bits (and as the
purpose of this document is to show off Yosys features) we can also simply force
the upper 8 bits of <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> to zero for the <a class="reference internal" href="../../cmd/sat.html#cmd-sat" title="solve a SAT problem in the circuit"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">sat</span></code></a> call, as is done
below.</p>
<div class="literal-block-wrapper docutils container" id="prime-fixed">
<div class="code-block-caption"><span class="caption-number">Listing 84 </span><span class="caption-text">Miter circuit from <code class="file docutils literal notranslate"><span class="pre">primetest.v</span></code>, with the upper 8 bits of <code class="docutils literal notranslate"><span class="pre">a</span></code>
and <code class="docutils literal notranslate"><span class="pre">b</span></code> constrained to prevent overflow.</span><a class="headerlink" href="#prime-fixed" title="Link to this code">¶</a></div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>yosys [primetest]&gt; sat -prove ok 1 -set p 31 -set a[15:8],b[15:8] 0

1. Executing SAT pass (solving SAT problems in the circuit).
Full command line: sat -prove ok 1 -set p 31 -set a[15:8],b[15:8] 0

Setting up SAT problem:
Import set-constraint: \p = 16&#39;0000000000011111
Import set-constraint: { \a [15:8] \b [15:8] } = 16&#39;0000000000000000
Final constraint equation: { \a [15:8] \b [15:8] \p } = { 16&#39;0000000000000000 16&#39;0000000000011111 }
Imported 6 cells to SAT database.
Import proof-constraint: \ok = 1&#39;1
Final proof equation: \ok = 1&#39;1

Solving problem with 2790 variables and 8257 clauses..
SAT proof finished - no model found: SUCCESS!

                  /$$$$$$      /$$$$$$$$     /$$$$$$$
                 /$$__  $$    | $$_____/    | $$__  $$
                | $$  \ $$    | $$          | $$  \ $$
                | $$  | $$    | $$$$$       | $$  | $$
                | $$  | $$    | $$__/       | $$  | $$
                | $$/$$ $$    | $$          | $$  | $$
                |  $$$$$$/ /$$| $$$$$$$$ /$$| $$$$$$$//$$
                 \____ $$$|__/|________/|__/|_______/|__/
                       \__/
</pre></div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">-prove</span></code> option used in <a class="reference internal" href="#prime-fixed"><span class="std std-numref">Listing 84</span></a> works similar to <code class="docutils literal notranslate"><span class="pre">-set</span></code>,
but tries to find a case in which the two arguments are not equal. If such a
case is not found, the property is proven to hold for all inputs that satisfy
the other constraints.</p>
<p>It might be worth noting, that SAT solvers are not particularly efficient at
factorizing large numbers. But if a small factorization problem occurs as part
of a larger circuit problem, the Yosys SAT solver is perfectly capable of
solving it.</p>
</section>
<section id="solving-sequential-sat-problems">
<h3>Solving sequential SAT problems<a class="headerlink" href="#solving-sequential-sat-problems" title="Link to this heading">¶</a></h3>
<p>The SAT solver functionality in Yosys can not only be used to solve
combinatorial problems, but can also solve sequential problems. Let’s consider
the <code class="docutils literal notranslate"><span class="pre">memdemo</span></code> design from <a class="reference internal" href="selections.html#advanced-logic-cones"><span class="std std-ref">Advanced logic cone selection</span></a> again, and suppose we
want to know which sequence of input values for <code class="docutils literal notranslate"><span class="pre">d</span></code> will cause the output y to
produce the sequence 1, 2, 3 from any initial state. Let’s use the following
command:</p>
<div class="highlight-yoscrypt notranslate"><div class="highlight"><pre><span></span><span class="k">sat</span><span class="w"> </span><span class="na">-seq</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="na">-show</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="na">-show</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="na">-set-init-undef</span><span class="w"> </span><span class="c">\</span>
<span class="w">  </span><span class="na">-max_undef</span><span class="w"> </span><span class="na">-set-at</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="na">-set-at</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="na">-set-at</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="m">3</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">-seq</span> <span class="pre">6</span></code> option instructs the <a class="reference internal" href="../../cmd/sat.html#cmd-sat" title="solve a SAT problem in the circuit"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">sat</span></code></a> command to solve a sequential problem
in 6 time steps. (Experiments with lower number of steps have show that at least
3 cycles are necessary to bring the circuit in a state from which the sequence
1, 2, 3 can be produced.)</p>
<p>The <code class="docutils literal notranslate"><span class="pre">-set-init-undef</span></code> option tells the <a class="reference internal" href="../../cmd/sat.html#cmd-sat" title="solve a SAT problem in the circuit"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">sat</span></code></a> command to initialize all
registers to the undef (<code class="docutils literal notranslate"><span class="pre">x</span></code>) state. The way the <code class="docutils literal notranslate"><span class="pre">x</span></code> state is treated in
Verilog will ensure that the solution will work for any initial state.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">-max_undef</span></code> option instructs the <a class="reference internal" href="../../cmd/sat.html#cmd-sat" title="solve a SAT problem in the circuit"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">sat</span></code></a> command to find a solution with a
maximum number of undefs. This way we can see clearly which inputs bits are
relevant to the solution.</p>
<p>Finally the three <code class="docutils literal notranslate"><span class="pre">-set-at</span></code> options add constraints for the <code class="docutils literal notranslate"><span class="pre">y</span></code> signal to
play the 1, 2, 3 sequence, starting with time step 4.</p>
<p>This produces the following output:</p>
<div class="literal-block-wrapper docutils container" id="memdemo-sat">
<div class="code-block-caption"><span class="caption-number">Listing 85 </span><span class="caption-text">Solving a sequential SAT problem in the <code class="docutils literal notranslate"><span class="pre">memdemo</span></code> module.</span><a class="headerlink" href="#memdemo-sat" title="Link to this code">¶</a></div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>yosys [memdemo]&gt; sat -seq 6 -show y -show d -set-init-undef \
    -max_undef -set-at 4 y 1 -set-at 5 y 2 -set-at 6 y 3

1. Executing SAT pass (solving SAT problems in the circuit).
Full command line: sat -seq 6 -show y -show d -set-init-undef
    -max_undef -set-at 4 y 1 -set-at 5 y 2 -set-at 6 y 3

Setting up time step 1:
Final constraint equation: { } = { }
Imported 29 cells to SAT database.

Setting up time step 2:
Final constraint equation: { } = { }
Imported 29 cells to SAT database.

Setting up time step 3:
Final constraint equation: { } = { }
Imported 29 cells to SAT database.

Setting up time step 4:
Import set-constraint for timestep: \y = 4&#39;0001
Final constraint equation: \y = 4&#39;0001
Imported 29 cells to SAT database.

Setting up time step 5:
Import set-constraint for timestep: \y = 4&#39;0010
Final constraint equation: \y = 4&#39;0010
Imported 29 cells to SAT database.

Setting up time step 6:
Import set-constraint for timestep: \y = 4&#39;0011
Final constraint equation: \y = 4&#39;0011
Imported 29 cells to SAT database.

Setting up initial state:
Final constraint equation: { \y \s2 \s1 \mem[3] \mem[2] \mem[1]
            \mem[0] } = 24&#39;xxxxxxxxxxxxxxxxxxxxxxxx

Import show expression: \y
Import show expression: \d

Solving problem with 10322 variables and 27881 clauses..
SAT model found. maximizing number of undefs.
SAT solving finished - model found:

  Time Signal Name                 Dec        Hex             Bin
  ---- -------------------- ---------- ---------- ---------------
  init \mem[0]                      --         --            xxxx
  init \mem[1]                      --         --            xxxx
  init \mem[2]                      --         --            xxxx
  init \mem[3]                      --         --            xxxx
  init \s1                          --         --              xx
  init \s2                          --         --              xx
  init \y                           --         --            xxxx
  ---- -------------------- ---------- ---------- ---------------
     1 \d                            0          0            0000
     1 \y                           --         --            xxxx
  ---- -------------------- ---------- ---------- ---------------
     2 \d                            1          1            0001
     2 \y                           --         --            xxxx
  ---- -------------------- ---------- ---------- ---------------
     3 \d                            2          2            0010
     3 \y                            0          0            0000
  ---- -------------------- ---------- ---------- ---------------
     4 \d                            3          3            0011
     4 \y                            1          1            0001
  ---- -------------------- ---------- ---------- ---------------
     5 \d                           --         --            001x
     5 \y                            2          2            0010
  ---- -------------------- ---------- ---------- ---------------
     6 \d                           --         --            xxxx
     6 \y                            3          3            0011
</pre></div>
</div>
</div>
<p>It is not surprising that the solution sets <code class="docutils literal notranslate"><span class="pre">d</span> <span class="pre">=</span> <span class="pre">0</span></code> in the first step, as this
is the only way of setting the <code class="docutils literal notranslate"><span class="pre">s1</span></code> and <code class="docutils literal notranslate"><span class="pre">s2</span></code> registers to a known value. The
input values for the other steps are a bit harder to work out manually, but the
SAT solver finds the correct solution in an instant.</p>
<p>There is much more to write about the <a class="reference internal" href="../../cmd/sat.html#cmd-sat" title="solve a SAT problem in the circuit"><code class="xref cmd cmd-ref docutils literal notranslate"><span class="pre">sat</span></code></a> command. For example, there is a set
of options that can be used to performs sequential proofs using temporal
induction <span id="id12">[<a class="reference internal" href="../../bib.html#id22" title="Niklas Eén and Niklas Sörensson. Temporal induction by incremental sat solving. Electronic Notes in Theoretical Computer Science, 89(4):543–560, 2003.">EenSorensson03</a>]</span>. The command <code class="docutils literal notranslate"><span class="pre">help</span> <span class="pre">sat</span></code> can be used to
print a list of all options with short descriptions of their functions.</p>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="model_checking.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Symbolic model checking</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="selections.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Selections</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025 YosysHQ GmbH
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link" href="https://readthedocs.org/projects/yosys" aria-label="On Read the Docs">
                <svg x="0px" y="0px" viewBox="-125 217 360 360" xml:space="preserve">
                  <path fill="currentColor" d="M39.2,391.3c-4.2,0.6-7.1,4.4-6.5,8.5c0.4,3,2.6,5.5,5.5,6.3 c0,0,18.5,6.1,50,8.7c25.3,2.1,54-1.8,54-1.8c4.2-0.1,7.5-3.6,7.4-7.8c-0.1-4.2-3.6-7.5-7.8-7.4c-0.5,0-1,0.1-1.5,0.2 c0,0-28.1,3.5-50.9,1.6c-30.1-2.4-46.5-7.9-46.5-7.9C41.7,391.3,40.4,391.1,39.2,391.3z M39.2,353.6c-4.2,0.6-7.1,4.4-6.5,8.5 c0.4,3,2.6,5.5,5.5,6.3c0,0,18.5,6.1,50,8.7c25.3,2.1,54-1.8,54-1.8c4.2-0.1,7.5-3.6,7.4-7.8c-0.1-4.2-3.6-7.5-7.8-7.4 c-0.5,0-1,0.1-1.5,0.2c0,0-28.1,3.5-50.9,1.6c-30.1-2.4-46.5-7.9-46.5-7.9C41.7,353.6,40.4,353.4,39.2,353.6z M39.2,315.9 c-4.2,0.6-7.1,4.4-6.5,8.5c0.4,3,2.6,5.5,5.5,6.3c0,0,18.5,6.1,50,8.7c25.3,2.1,54-1.8,54-1.8c4.2-0.1,7.5-3.6,7.4-7.8 c-0.1-4.2-3.6-7.5-7.8-7.4c-0.5,0-1,0.1-1.5,0.2c0,0-28.1,3.5-50.9,1.6c-30.1-2.4-46.5-7.9-46.5-7.9 C41.7,315.9,40.4,315.8,39.2,315.9z M39.2,278.3c-4.2,0.6-7.1,4.4-6.5,8.5c0.4,3,2.6,5.5,5.5,6.3c0,0,18.5,6.1,50,8.7 c25.3,2.1,54-1.8,54-1.8c4.2-0.1,7.5-3.6,7.4-7.8c-0.1-4.2-3.6-7.5-7.8-7.4c-0.5,0-1,0.1-1.5,0.2c0,0-28.1,3.5-50.9,1.6 c-30.1-2.4-46.5-7.9-46.5-7.9C41.7,278.2,40.4,278.1,39.2,278.3z M-13.6,238.5c-39.6,0.3-54.3,12.5-54.3,12.5v295.7 c0,0,14.4-12.4,60.8-10.5s55.9,18.2,112.9,19.3s71.3-8.8,71.3-8.8l0.8-301.4c0,0-25.6,7.3-75.6,7.7c-49.9,0.4-61.9-12.7-107.7-14.2 C-8.2,238.6-10.9,238.5-13.6,238.5z M19.5,257.8c0,0,24,7.9,68.3,10.1c37.5,1.9,75-3.7,75-3.7v267.9c0,0-19,10-66.5,6.6 C59.5,536.1,19,522.1,19,522.1L19.5,257.8z M-3.6,264.8c4.2,0,7.7,3.4,7.7,7.7c0,4.2-3.4,7.7-7.7,7.7c0,0-12.4,0.1-20,0.8 c-12.7,1.3-21.4,5.9-21.4,5.9c-3.7,2-8.4,0.5-10.3-3.2c-2-3.7-0.5-8.4,3.2-10.3c0,0,0,0,0,0c0,0,11.3-6,27-7.5 C-16,264.9-3.6,264.8-3.6,264.8z M-11,302.6c4.2-0.1,7.4,0,7.4,0c4.2,0.5,7.2,4.3,6.7,8.5c-0.4,3.5-3.2,6.3-6.7,6.7 c0,0-12.4,0.1-20,0.8c-12.7,1.3-21.4,5.9-21.4,5.9c-3.7,2-8.4,0.5-10.3-3.2c-2-3.7-0.5-8.4,3.2-10.3c0,0,11.3-6,27-7.5 C-20.5,302.9-15.2,302.7-11,302.6z M-3.6,340.2c4.2,0,7.7,3.4,7.7,7.7s-3.4,7.7-7.7,7.7c0,0-12.4-0.1-20,0.7 c-12.7,1.3-21.4,5.9-21.4,5.9c-3.7,2-8.4,0.5-10.3-3.2c-2-3.7-0.5-8.4,3.2-10.3c0,0,11.3-6,27-7.5C-16,340.1-3.6,340.2-3.6,340.2z" />
                </svg>
              </a><a class="muted-link" href="https://github.com/YosysHQ/yosys" aria-label="On GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                  <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
              </a>
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
          YosysHQ
          </span>
        </div>
        <div class="toc-tree-container yosyshq-links" style="padding-bottom: 0">
          <div class="toc-tree">
            <ul>
              <li></li>
              <li><a class="reference external" href="https://yosyshq.readthedocs.io">Docs</a></li>
              <li><a class="reference external" href="https://blog.yosyshq.com">Blog</a></li>
              <li><a class="reference external" href="https://www.yosyshq.com">Website</a></li>
            </ul>
          </div>
        </div>
        
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Interactive design investigation</a><ul>
<li><a class="reference internal" href="#a-look-at-the-show-command">A look at the show command</a><ul>
<li><a class="reference internal" href="#a-simple-circuit">A simple circuit</a></li>
<li><a class="reference internal" href="#break-out-boxes-for-signal-vectors">Break-out boxes for signal vectors</a></li>
<li><a class="reference internal" href="#gate-level-netlists">Gate level netlists</a></li>
<li><a class="reference internal" href="#miscellaneous-notes">Miscellaneous notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#navigating-the-design">Navigating the design</a><ul>
<li><a class="reference internal" href="#interactive-navigation">Interactive navigation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id3">Interactive Design Investigation</a><ul>
<li><a class="reference internal" href="#changing-design-hierarchy">Changing design hierarchy</a></li>
<li><a class="reference internal" href="#behavioral-changes">Behavioral changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#advanced-investigation-techniques">Advanced investigation techniques</a><ul>
<li><a class="reference internal" href="#evaluation-of-combinatorial-circuits">Evaluation of combinatorial circuits</a></li>
<li><a class="reference internal" href="#solving-combinatorial-sat-problems">Solving combinatorial SAT problems</a></li>
<li><a class="reference internal" href="#solving-sequential-sat-problems">Solving sequential SAT problems</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
        
      </div>
      
    </aside>
  </div>
</div><script src="../../_static/documentation_options.js?v=33dbc229"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo-ys.js?v=8d9c4053"></script>
    </body>
</html>